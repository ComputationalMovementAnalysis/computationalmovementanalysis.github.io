<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4.3 Tasks and Inputs | Computational Movement Analysis: Patterns and Trends in Environmental Data</title>
  <meta name="description" content="4.3 Tasks and Inputs | Computational Movement Analysis: Patterns and Trends in Environmental Data" />
  <meta name="generator" content="bookdown 0.25 and GitBook 2.6.7" />

  <meta property="og:title" content="4.3 Tasks and Inputs | Computational Movement Analysis: Patterns and Trends in Environmental Data" />
  <meta property="og:type" content="book" />
  
  
  <meta name="github-repo" content="ComputationalMovementAnalysis/FS21" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4.3 Tasks and Inputs | Computational Movement Analysis: Patterns and Trends in Environmental Data" />
  
  
  

<meta name="author" content="Patrick Laube, Nils Ratnaweera, Nikolaos Bakogiannis" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="W3_3_preparation.html"/>
<link rel="next" href="W4_1_exercise.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="90_misc/mystyle.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<img src="02_Images/zhaw_lsfm_schwarz.png" alt="ZHAW Logo" width="300">

<li class="divider"></li>
<li><a href="index.html#welcome-to-the-course">Welcome to the course!<span></span></a>
<ul>
<li><a href="index.html#license">License<span></span></a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="W0_1_preparations.html"><a href="W0_1_preparations.html"><i class="fa fa-check"></i><b>1</b> Preparation<span></span></a>
<ul>
<li class="chapter" data-level="1.1" data-path="W0_1_preparations.html"><a href="W0_1_preparations.html#check-you-version-of-r"><i class="fa fa-check"></i><b>1.1</b> Check you version of <code>R</code><span></span></a></li>
<li class="chapter" data-level="1.2" data-path="W0_1_preparations.html"><a href="W0_1_preparations.html#check-your-version-of-rstudio"><i class="fa fa-check"></i><b>1.2</b> Check your version of RStudio<span></span></a></li>
<li class="chapter" data-level="1.3" data-path="W0_1_preparations.html"><a href="W0_1_preparations.html#install-the-necessary-packages"><i class="fa fa-check"></i><b>1.3</b> Install the necessary packages<span></span></a></li>
<li class="chapter" data-level="1.4" data-path="W0_1_preparations.html"><a href="W0_1_preparations.html#install-git"><i class="fa fa-check"></i><b>1.4</b> Install Git<span></span></a></li>
<li class="chapter" data-level="1.5" data-path="W0_1_preparations.html"><a href="W0_1_preparations.html#configure-rstudio"><i class="fa fa-check"></i><b>1.5</b> Configure RStudio<span></span></a></li>
<li class="chapter" data-level="1.6" data-path="W0_1_preparations.html"><a href="W0_1_preparations.html#introduce-yourself-git"><i class="fa fa-check"></i><b>1.6</b> Introduce yourself to Git<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="W1_1_exercise.html"><a href="W1_1_exercise.html"><i class="fa fa-check"></i><b>2</b> Exercise 1<span></span></a>
<ul>
<li class="chapter" data-level="2.1" data-path="W1_3_Slides.html"><a href="W1_3_Slides.html"><i class="fa fa-check"></i><b>2.1</b> Slides<span></span></a></li>
<li class="chapter" data-level="2.2" data-path="W1_4_preparation.html"><a href="W1_4_preparation.html"><i class="fa fa-check"></i><b>2.2</b> Preparation<span></span></a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="W1_4_preparation.html"><a href="W1_4_preparation.html#folder-structure"><i class="fa fa-check"></i><b>2.2.1</b> Folder structure for this course<span></span></a></li>
<li class="chapter" data-level="2.2.2" data-path="W1_4_preparation.html"><a href="W1_4_preparation.html#create-an-rstudio-project-for-the-first-week"><i class="fa fa-check"></i><b>2.2.2</b> Create an RStudio <em>project</em> for the first week<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="W1_5_tasks_and_inputs.html"><a href="W1_5_tasks_and_inputs.html"><i class="fa fa-check"></i><b>2.3</b> Tasks and inputs<span></span></a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="W1_5_tasks_and_inputs.html"><a href="W1_5_tasks_and_inputs.html#task-1-import-data"><i class="fa fa-check"></i><b>2.3.1</b> Task 1: Import data<span></span></a></li>
<li class="chapter" data-level="2.3.2" data-path="W1_5_tasks_and_inputs.html"><a href="W1_5_tasks_and_inputs.html#task-2-explore-data"><i class="fa fa-check"></i><b>2.3.2</b> Task 2: Explore Data<span></span></a></li>
<li class="chapter" data-level="2.3.3" data-path="W1_5_tasks_and_inputs.html"><a href="W1_5_tasks_and_inputs.html#input-handling-spatial-data"><i class="fa fa-check"></i><b>2.3.3</b> Input: Handling spatial data<span></span></a></li>
<li class="chapter" data-level="2.3.4" data-path="W1_5_tasks_and_inputs.html"><a href="W1_5_tasks_and_inputs.html#task-3-project-data-from-wgs84"><i class="fa fa-check"></i><b>2.3.4</b> Task 3: Project data from WGS84<span></span></a></li>
<li class="chapter" data-level="2.3.5" data-path="W1_5_tasks_and_inputs.html"><a href="W1_5_tasks_and_inputs.html#input-calculate-convex-hull"><i class="fa fa-check"></i><b>2.3.5</b> Input: Calculate Convex Hull<span></span></a></li>
<li class="chapter" data-level="2.3.6" data-path="W1_5_tasks_and_inputs.html"><a href="W1_5_tasks_and_inputs.html#task-4-ploting-spatial-objects"><i class="fa fa-check"></i><b>2.3.6</b> Task 4: Ploting spatial objects<span></span></a></li>
<li class="chapter" data-level="2.3.7" data-path="W1_5_tasks_and_inputs.html"><a href="W1_5_tasks_and_inputs.html#w1-importing-raster"><i class="fa fa-check"></i><b>2.3.7</b> Input: Importing raster data<span></span></a></li>
<li class="chapter" data-level="2.3.8" data-path="W1_5_tasks_and_inputs.html"><a href="W1_5_tasks_and_inputs.html#task-5-adding-a-background-map"><i class="fa fa-check"></i><b>2.3.8</b> Task 5: Adding a background map<span></span></a></li>
<li class="chapter" data-level="2.3.9" data-path="W1_5_tasks_and_inputs.html"><a href="W1_5_tasks_and_inputs.html#task-6-create-an-interactive-map"><i class="fa fa-check"></i><b>2.3.9</b> Task 6: Create an interactive map<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="W2_1_exercise.html"><a href="W2_1_exercise.html"><i class="fa fa-check"></i><b>3</b> Exercise 2<span></span></a>
<ul>
<li class="chapter" data-level="3.1" data-path="W2_4_demo_tidyverse.html"><a href="W2_4_demo_tidyverse.html"><i class="fa fa-check"></i><b>3.1</b> Demo Tidyverse<span></span></a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="W2_4_demo_tidyverse.html"><a href="W2_4_demo_tidyverse.html#difftime"><i class="fa fa-check"></i><b>3.1.1</b> <code>difftime</code><span></span></a></li>
<li class="chapter" data-level="3.1.2" data-path="W2_4_demo_tidyverse.html"><a href="W2_4_demo_tidyverse.html#lead-lag"><i class="fa fa-check"></i><b>3.1.2</b> <code>lead()</code> / <code>lag()</code><span></span></a></li>
<li class="chapter" data-level="3.1.3" data-path="W2_4_demo_tidyverse.html"><a href="W2_4_demo_tidyverse.html#mutate"><i class="fa fa-check"></i><b>3.1.3</b> <code>mutate()</code><span></span></a></li>
<li class="chapter" data-level="3.1.4" data-path="W2_4_demo_tidyverse.html"><a href="W2_4_demo_tidyverse.html#group_by"><i class="fa fa-check"></i><b>3.1.4</b> <code>group_by()</code><span></span></a></li>
<li class="chapter" data-level="3.1.5" data-path="W2_4_demo_tidyverse.html"><a href="W2_4_demo_tidyverse.html#summarise"><i class="fa fa-check"></i><b>3.1.5</b> <code>summarise()</code><span></span></a></li>
<li class="chapter" data-level="3.1.6" data-path="W2_4_demo_tidyverse.html"><a href="W2_4_demo_tidyverse.html#piping"><i class="fa fa-check"></i><b>3.1.6</b> Piping<span></span></a></li>
<li class="chapter" data-level="3.1.7" data-path="W2_4_demo_tidyverse.html"><a href="W2_4_demo_tidyverse.html#bring-it-all-together"><i class="fa fa-check"></i><b>3.1.7</b> Bring it all together…<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="W2_4b_demo_tidyverse_code.html"><a href="W2_4b_demo_tidyverse_code.html"><i class="fa fa-check"></i><b>3.2</b> Demo Tidyverse (R-Code)<span></span></a></li>
<li class="chapter" data-level="3.3" data-path="W2_5_tasks_and_inputs.html"><a href="W2_5_tasks_and_inputs.html"><i class="fa fa-check"></i><b>3.3</b> Tasks and Inputs<span></span></a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="W2_5_tasks_and_inputs.html"><a href="W2_5_tasks_and_inputs.html#task-0-import-your-data"><i class="fa fa-check"></i><b>3.3.1</b> Task 0: Import your data<span></span></a></li>
<li class="chapter" data-level="3.3.2" data-path="W2_5_tasks_and_inputs.html"><a href="W2_5_tasks_and_inputs.html#task-1-getting-an-overview"><i class="fa fa-check"></i><b>3.3.2</b> Task 1: Getting an overview<span></span></a></li>
<li class="chapter" data-level="3.3.3" data-path="W2_5_tasks_and_inputs.html"><a href="W2_5_tasks_and_inputs.html#w2-task2"><i class="fa fa-check"></i><b>3.3.3</b> Task 2: Deriving movement parameters I: Speed<span></span></a></li>
<li class="chapter" data-level="3.3.4" data-path="W2_5_tasks_and_inputs.html"><a href="W2_5_tasks_and_inputs.html#task-3-cross-scale-movement-analysis"><i class="fa fa-check"></i><b>3.3.4</b> Task 3: Cross-scale movement analysis<span></span></a></li>
<li class="chapter" data-level="3.3.5" data-path="W2_5_tasks_and_inputs.html"><a href="W2_5_tasks_and_inputs.html#task-4-deriving-movement-parameters-ii-rolling-window-functions"><i class="fa fa-check"></i><b>3.3.5</b> Task 4: Deriving movement parameters II: Rolling window functions<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="W3_1_exercise.html"><a href="W3_1_exercise.html"><i class="fa fa-check"></i><b>4</b> Exercise 3<span></span></a>
<ul>
<li class="chapter" data-level="4.1" data-path="W3_2_Slides.html"><a href="W3_2_Slides.html"><i class="fa fa-check"></i><b>4.1</b> Slides<span></span></a></li>
<li class="chapter" data-level="4.2" data-path="W3_3_preparation.html"><a href="W3_3_preparation.html"><i class="fa fa-check"></i><b>4.2</b> Preparation<span></span></a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="W3_3_preparation.html"><a href="W3_3_preparation.html#step-1-create-a-normal-rstudio-project"><i class="fa fa-check"></i><b>4.2.1</b> Step 1: Create a “normal” RStudio Project<span></span></a></li>
<li class="chapter" data-level="4.2.2" data-path="W3_3_preparation.html"><a href="W3_3_preparation.html#step-2-activate-git-version-control"><i class="fa fa-check"></i><b>4.2.2</b> Step 2: Activate Git Version Control<span></span></a></li>
<li class="chapter" data-level="4.2.3" data-path="W3_3_preparation.html"><a href="W3_3_preparation.html#step-3-rename-branch"><i class="fa fa-check"></i><b>4.2.3</b> Step 3: Rename branch<span></span></a></li>
<li class="chapter" data-level="4.2.4" data-path="W3_3_preparation.html"><a href="W3_3_preparation.html#step-4-create-a-github-repository"><i class="fa fa-check"></i><b>4.2.4</b> Step 4: Create a Github Repository<span></span></a></li>
<li class="chapter" data-level="4.2.5" data-path="W3_3_preparation.html"><a href="W3_3_preparation.html#step-5-connect-to-github"><i class="fa fa-check"></i><b>4.2.5</b> Step 5: Connect to Github<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="W3_4_tasks_and_inputs.html"><a href="W3_4_tasks_and_inputs.html"><i class="fa fa-check"></i><b>4.3</b> Tasks and Inputs<span></span></a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="W3_4_tasks_and_inputs.html"><a href="W3_4_tasks_and_inputs.html#task-1-segmentation"><i class="fa fa-check"></i><b>4.3.1</b> Task 1: Segmentation<span></span></a></li>
<li class="chapter" data-level="4.3.2" data-path="W3_4_tasks_and_inputs.html"><a href="W3_4_tasks_and_inputs.html#task-2-specify-and-apply-threshold-d"><i class="fa fa-check"></i><b>4.3.2</b> Task 2: Specify and apply threshold <em>d</em><span></span></a></li>
<li class="chapter" data-level="4.3.3" data-path="W3_4_tasks_and_inputs.html"><a href="W3_4_tasks_and_inputs.html#task-3-visualize-segmented-trajectories"><i class="fa fa-check"></i><b>4.3.3</b> Task 3: Visualize segmented trajectories<span></span></a></li>
<li class="chapter" data-level="4.3.4" data-path="W3_4_tasks_and_inputs.html"><a href="W3_4_tasks_and_inputs.html#task-4-segment-based-analysis"><i class="fa fa-check"></i><b>4.3.4</b> Task 4: Segment-based analysis<span></span></a></li>
<li class="chapter" data-level="4.3.5" data-path="W3_4_tasks_and_inputs.html"><a href="W3_4_tasks_and_inputs.html#task-5-similarity-measures"><i class="fa fa-check"></i><b>4.3.5</b> Task 5: Similarity measures<span></span></a></li>
<li class="chapter" data-level="4.3.6" data-path="W3_4_tasks_and_inputs.html"><a href="W3_4_tasks_and_inputs.html#task-6-calculate-similarity"><i class="fa fa-check"></i><b>4.3.6</b> Task 6: Calculate similarity<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="W4_1_exercise.html"><a href="W4_1_exercise.html"><i class="fa fa-check"></i><b>5</b> Exercise 4<span></span></a>
<ul>
<li class="chapter" data-level="5.1" data-path="W4_2_Slides.html"><a href="W4_2_Slides.html"><i class="fa fa-check"></i><b>5.1</b> Slides<span></span></a></li>
<li class="chapter" data-level="5.2" data-path="W4_4_tasks_and_inputs.html"><a href="W4_4_tasks_and_inputs.html"><i class="fa fa-check"></i><b>5.2</b> Tasks and inputs<span></span></a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="W4_4_tasks_and_inputs.html"><a href="W4_4_tasks_and_inputs.html#task-1-write-your-own-functions"><i class="fa fa-check"></i><b>5.2.1</b> Task 1: Write your own functions<span></span></a></li>
<li class="chapter" data-level="5.2.2" data-path="W4_4_tasks_and_inputs.html"><a href="W4_4_tasks_and_inputs.html#task-2-prepare-analysis"><i class="fa fa-check"></i><b>5.2.2</b> Task 2: Prepare Analysis<span></span></a></li>
<li class="chapter" data-level="5.2.3" data-path="W4_4_tasks_and_inputs.html"><a href="W4_4_tasks_and_inputs.html#task-3-create-join-key"><i class="fa fa-check"></i><b>5.2.3</b> Task 3: Create Join Key<span></span></a></li>
<li class="chapter" data-level="5.2.4" data-path="W4_4_tasks_and_inputs.html"><a href="W4_4_tasks_and_inputs.html#task-4-measuring-distance-at-concurrent-locations"><i class="fa fa-check"></i><b>5.2.4</b> Task 4: Measuring distance at concurrent locations<span></span></a></li>
<li class="chapter" data-level="5.2.5" data-path="W4_4_tasks_and_inputs.html"><a href="W4_4_tasks_and_inputs.html#task-5-visualize-data"><i class="fa fa-check"></i><b>5.2.5</b> Task 5: Visualize data<span></span></a></li>
<li class="chapter" data-level="5.2.6" data-path="W4_4_tasks_and_inputs.html"><a href="W4_4_tasks_and_inputs.html#task-6-optional-visualize-data-as-timecube-with-plotly"><i class="fa fa-check"></i><b>5.2.6</b> Task 6 (optional): Visualize data as timecube with <code>plotly</code><span></span></a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="W4_5_peer_feedback.html"><a href="W4_5_peer_feedback.html"><i class="fa fa-check"></i><b>5.3</b> Peer Feedback<span></span></a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="W4_5_peer_feedback.html"><a href="W4_5_peer_feedback.html#issues-option1"><i class="fa fa-check"></i><b>5.3.1</b> Option 1: via the browser on github.com<span></span></a></li>
<li class="chapter" data-level="5.3.2" data-path="W4_5_peer_feedback.html"><a href="W4_5_peer_feedback.html#issues-option2"><i class="fa fa-check"></i><b>5.3.2</b> Option 2: via our RStudio addin<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="W5_1_exercise.html"><a href="W5_1_exercise.html"><i class="fa fa-check"></i><b>6</b> Exercise 5<span></span></a>
<ul>
<li class="chapter" data-level="6.1" data-path="W5_2_preparation.html"><a href="W5_2_preparation.html"><i class="fa fa-check"></i><b>6.1</b> Preparation<span></span></a></li>
<li class="chapter" data-level="6.2" data-path="W5_3_tasks_and_inputs.html"><a href="W5_3_tasks_and_inputs.html"><i class="fa fa-check"></i><b>6.2</b> Tasks and Inputs<span></span></a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="W5_3_tasks_and_inputs.html"><a href="W5_3_tasks_and_inputs.html#tasks-1-import-and-visualize-spatial-data"><i class="fa fa-check"></i><b>6.2.1</b> Tasks 1: Import and visualize spatial data<span></span></a></li>
<li class="chapter" data-level="6.2.2" data-path="W5_3_tasks_and_inputs.html"><a href="W5_3_tasks_and_inputs.html#w5-annotate-vector"><i class="fa fa-check"></i><b>6.2.2</b> Task 2: Annotate Trajectories from vector data<span></span></a></li>
<li class="chapter" data-level="6.2.3" data-path="W5_3_tasks_and_inputs.html"><a href="W5_3_tasks_and_inputs.html#task-3-explore-annotated-trajectories"><i class="fa fa-check"></i><b>6.2.3</b> Task 3: Explore annotated trajectories<span></span></a></li>
<li class="chapter" data-level="6.2.4" data-path="W5_3_tasks_and_inputs.html"><a href="W5_3_tasks_and_inputs.html#task-4-import-and-visualize-vegetationindex-raster-data"><i class="fa fa-check"></i><b>6.2.4</b> Task 4: Import and visualize vegetationindex (raster data)<span></span></a></li>
<li class="chapter" data-level="6.2.5" data-path="W5_3_tasks_and_inputs.html"><a href="W5_3_tasks_and_inputs.html#task-5-annotate-trajectories-from-raster-data"><i class="fa fa-check"></i><b>6.2.5</b> Task 5: Annotate Trajectories from raster data<span></span></a></li>
</ul></li>
</ul></li>
<li><a href="90_references.html#references">References<span></span></a></li>
<li class="divider"></li>
<a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/80x15.png" /></a><br /></a>.

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Computational Movement Analysis: Patterns and Trends in Environmental Data</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="tasks-and-inputs-1" class="section level2 hasAnchor" number="4.3">
<h2><span class="header-section-number">4.3</span> Tasks and Inputs<a href="W3_4_tasks_and_inputs.html#tasks-and-inputs-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>You’ve read <span class="citation"><a href="90_references.html#ref-laube2011" role="doc-biblioref">Laube and Purves</a> (<a href="90_references.html#ref-laube2011" role="doc-biblioref">2011</a>)</span> about segmenting trajectories. In the paper, the authors define “<em>static</em>” fixes as “<em>those whose average Euclidean distance to other fixes inside a temporal window v is less than some threshold d</em>,” as illustrated in the following figure:</p>

<div class="figure"><span style="display:block;" id="fig:laubeimg"></span>
<img src="02_Images/laube_2011.jpg" alt="The figure from Laube and Purves (2011) visualizes steps a) zu d), which will be explained below:"  />
<p class="caption">
Figure 4.1: The figure from <span class="citation"><a href="90_references.html#ref-laube2011" role="doc-biblioref">Laube and Purves</a> (<a href="90_references.html#ref-laube2011" role="doc-biblioref">2011</a>)</span> visualizes steps a) zu d), which will be explained below:
</p>
</div>
<ol style="list-style-type: lower-alpha">
<li>Specify a temporal windows <span class="math inline">\(v\)</span> for in which to measure Euclidean distances</li>
<li>Measure the distance from every point to every other point within this temporal window (<span class="math inline">\(v\)</span>)</li>
<li>Remove “static points”: These are points where the average distance is less than a given threshold. This segments the trajectory into subtrajectories</li>
<li>Now remove short subtrajectories: These are trajectories with a short duration (whereas “short” is tbd)</li>
</ol>
<p>We will <strong>demonstrate</strong> implementing this method on the wild boar “Sabi,” restricting ourselves to a couple of tracking days. Your task will be to understand this implementation and apply it on Caro, with a different sampling interval.</p>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-3"></span>
<img src="W3_4_tasks_and_inputs_files/figure-html/unnamed-chunk-3-1.png" alt="Movement of the wildboar 'Sabi' in the timespan 01-02.07.2015. The circle highlingts possible 'static points'" width="672" />
<p class="caption">
Figure 4.2: Movement of the wildboar ‘Sabi’ in the timespan 01-02.07.2015. The circle highlingts possible ‘static points’
</p>
</div>
<div id="step-a-specify-a-temporal-window-v" class="section level4 hasAnchor" number="4.3.0.1">
<h4><span class="header-section-number">4.3.0.1</span> Step a): Specify a temporal window <span class="math inline">\(v\)</span><a href="W3_4_tasks_and_inputs.html#step-a-specify-a-temporal-window-v" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>In the above dataset, the sampling interval is 15 minutes. If we take a temporal window of 60 minutes, that would mean including 4 fixes. We need to calculate the following Euclidean distances (pos representing single location):</p>
<ol style="list-style-type: decimal">
<li><code>pos[n-2]</code> to <code>pos[n]</code></li>
<li><code>pos[n-1]</code> to <code>pos[n]</code></li>
<li><code>pos[n]</code> to <code>pos[n+1]</code></li>
<li><code>pos[n]</code> to <code>pos[n+2]</code></li>
</ol>
</div>
<div id="step-b-measure-the-distance-from-every-point-to-every-other-point-within-this-temporal-window-v" class="section level4 hasAnchor" number="4.3.0.2">
<h4><span class="header-section-number">4.3.0.2</span> Step b): Measure the distance from every point to every other point within this temporal window <span class="math inline">\(v\)</span><a href="W3_4_tasks_and_inputs.html#step-b-measure-the-distance-from-every-point-to-every-other-point-within-this-temporal-window-v" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Just like last week, we use the formula for calculating the Euclidean distance in in combination with <code>lead()</code> and <code>lag()</code>. For example, to create the necessary offset of n-2, we use <code>lag(x, 2)</code>. For each offset, we create one individual column.</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="W3_4_tasks_and_inputs.html#cb80-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-2"><a href="W3_4_tasks_and_inputs.html#cb80-2" aria-hidden="true" tabindex="-1"></a>sabi <span class="ot">&lt;-</span> sabi <span class="sc">%&gt;%</span></span>
<span id="cb80-3"><a href="W3_4_tasks_and_inputs.html#cb80-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb80-4"><a href="W3_4_tasks_and_inputs.html#cb80-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">nMinus2 =</span> <span class="fu">sqrt</span>((<span class="fu">lag</span>(E,<span class="dv">2</span>)<span class="sc">-</span>E)<span class="sc">^</span><span class="dv">2</span><span class="sc">+</span>(<span class="fu">lag</span>(N,<span class="dv">2</span>)<span class="sc">-</span>N)<span class="sc">^</span><span class="dv">2</span>),   <span class="co"># distance to pos -30 minutes</span></span>
<span id="cb80-5"><a href="W3_4_tasks_and_inputs.html#cb80-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">nMinus1 =</span> <span class="fu">sqrt</span>((<span class="fu">lag</span>(E,<span class="dv">1</span>)<span class="sc">-</span>E)<span class="sc">^</span><span class="dv">2</span><span class="sc">+</span>(<span class="fu">lag</span>(N,<span class="dv">1</span>)<span class="sc">-</span>N)<span class="sc">^</span><span class="dv">2</span>),   <span class="co"># distance to pos -15 minutes</span></span>
<span id="cb80-6"><a href="W3_4_tasks_and_inputs.html#cb80-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">nPlus1  =</span> <span class="fu">sqrt</span>((E<span class="sc">-</span><span class="fu">lead</span>(E,<span class="dv">1</span>))<span class="sc">^</span><span class="dv">2</span><span class="sc">+</span>(N<span class="sc">-</span><span class="fu">lead</span>(N,<span class="dv">1</span>))<span class="sc">^</span><span class="dv">2</span>), <span class="co"># distance to pos +15 mintues</span></span>
<span id="cb80-7"><a href="W3_4_tasks_and_inputs.html#cb80-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">nPlus2  =</span> <span class="fu">sqrt</span>((E<span class="sc">-</span><span class="fu">lead</span>(E,<span class="dv">2</span>))<span class="sc">^</span><span class="dv">2</span><span class="sc">+</span>(N<span class="sc">-</span><span class="fu">lead</span>(N,<span class="dv">2</span>))<span class="sc">^</span><span class="dv">2</span>)  <span class="co"># distance to pos +30 minutes</span></span>
<span id="cb80-8"><a href="W3_4_tasks_and_inputs.html#cb80-8" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>Now we want to calculate the mean distance of <code>nMinus2</code>, <code>nMinus1</code>, <code>nPlus1</code>, <code>nPlus2</code> for each row. Since we want the mean value <em>per Row</em>, we have to explicitly specify this before <code>mutate()</code> with the function <code>rowwise()</code>. To remove this rowwise-grouping, we end the operation with <code>ungroup()</code>.</p>
<p>Note that for the first two positions, we cannot calculate a <code>stepMean</code> since there is no Position <code>n-2</code> for these positions. This is also true for the last to positions (lacking a position <code>n+2</code>).</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="W3_4_tasks_and_inputs.html#cb81-1" aria-hidden="true" tabindex="-1"></a>sabi <span class="ot">&lt;-</span> sabi <span class="sc">%&gt;%</span></span>
<span id="cb81-2"><a href="W3_4_tasks_and_inputs.html#cb81-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span></span>
<span id="cb81-3"><a href="W3_4_tasks_and_inputs.html#cb81-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb81-4"><a href="W3_4_tasks_and_inputs.html#cb81-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">stepMean =</span> <span class="fu">mean</span>(<span class="fu">c</span>(nMinus2, nMinus1,nPlus1,nPlus2))</span>
<span id="cb81-5"><a href="W3_4_tasks_and_inputs.html#cb81-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb81-6"><a href="W3_4_tasks_and_inputs.html#cb81-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() </span>
<span id="cb81-7"><a href="W3_4_tasks_and_inputs.html#cb81-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-8"><a href="W3_4_tasks_and_inputs.html#cb81-8" aria-hidden="true" tabindex="-1"></a>sabi</span>
<span id="cb81-9"><a href="W3_4_tasks_and_inputs.html#cb81-9" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 192 x 11</span></span>
<span id="cb81-10"><a href="W3_4_tasks_and_inputs.html#cb81-10" aria-hidden="true" tabindex="-1"></a><span class="do">##    TierID TierName CollarID DatetimeUTC                E       N nMinus2 nMinus1</span></span>
<span id="cb81-11"><a href="W3_4_tasks_and_inputs.html#cb81-11" aria-hidden="true" tabindex="-1"></a><span class="do">##    &lt;chr&gt;  &lt;chr&gt;       &lt;dbl&gt; &lt;dttm&gt;                 &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;</span></span>
<span id="cb81-12"><a href="W3_4_tasks_and_inputs.html#cb81-12" aria-hidden="true" tabindex="-1"></a><span class="do">##  1 002A   Sabi        12275 2015-06-30 22:00:13 2569972.  1.21e6   NA      NA   </span></span>
<span id="cb81-13"><a href="W3_4_tasks_and_inputs.html#cb81-13" aria-hidden="true" tabindex="-1"></a><span class="do">##  2 002A   Sabi        12275 2015-06-30 22:16:06 2569975.  1.21e6   NA     271.  </span></span>
<span id="cb81-14"><a href="W3_4_tasks_and_inputs.html#cb81-14" aria-hidden="true" tabindex="-1"></a><span class="do">##  3 002A   Sabi        12275 2015-06-30 22:30:19 2570266.  1.21e6  573.    365.  </span></span>
<span id="cb81-15"><a href="W3_4_tasks_and_inputs.html#cb81-15" aria-hidden="true" tabindex="-1"></a><span class="do">##  4 002A   Sabi        12275 2015-06-30 22:45:13 2570208.  1.21e6  361.     80.5 </span></span>
<span id="cb81-16"><a href="W3_4_tasks_and_inputs.html#cb81-16" aria-hidden="true" tabindex="-1"></a><span class="do">##  5 002A   Sabi        12275 2015-06-30 23:00:10 2570247.  1.21e6  127.    186.  </span></span>
<span id="cb81-17"><a href="W3_4_tasks_and_inputs.html#cb81-17" aria-hidden="true" tabindex="-1"></a><span class="do">##  6 002A   Sabi        12275 2015-06-30 23:15:17 2570512.  1.21e6  703.    524.  </span></span>
<span id="cb81-18"><a href="W3_4_tasks_and_inputs.html#cb81-18" aria-hidden="true" tabindex="-1"></a><span class="do">##  7 002A   Sabi        12275 2015-06-30 23:30:38 2570684.  1.21e6  766.    247.  </span></span>
<span id="cb81-19"><a href="W3_4_tasks_and_inputs.html#cb81-19" aria-hidden="true" tabindex="-1"></a><span class="do">##  8 002A   Sabi        12275 2015-06-30 23:45:16 2570526.  1.21e6  229.    167.  </span></span>
<span id="cb81-20"><a href="W3_4_tasks_and_inputs.html#cb81-20" aria-hidden="true" tabindex="-1"></a><span class="do">##  9 002A   Sabi        12275 2015-07-01 00:00:10 2570532.  1.21e6  163.      9.33</span></span>
<span id="cb81-21"><a href="W3_4_tasks_and_inputs.html#cb81-21" aria-hidden="true" tabindex="-1"></a><span class="do">## 10 002A   Sabi        12275 2015-07-01 00:15:14 2570530.  1.21e6    8.98   15.4 </span></span>
<span id="cb81-22"><a href="W3_4_tasks_and_inputs.html#cb81-22" aria-hidden="true" tabindex="-1"></a><span class="do">## # ... with 182 more rows, and 3 more variables: nPlus1 &lt;dbl&gt;, nPlus2 &lt;dbl&gt;,</span></span>
<span id="cb81-23"><a href="W3_4_tasks_and_inputs.html#cb81-23" aria-hidden="true" tabindex="-1"></a><span class="do">## #   stepMean &lt;dbl&gt;</span></span></code></pre></div>
</div>
<div id="step-c-remove-static-points" class="section level4 hasAnchor" number="4.3.0.3">
<h4><span class="header-section-number">4.3.0.3</span> Step c): Remove “static points”<a href="W3_4_tasks_and_inputs.html#step-c-remove-static-points" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>We can now determine if an animal is moving or not by specifying a threshold distance on <code>stepMean</code>. In our example, we use the mean value as a threshold: Positions with distances below this value are considered static.</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="W3_4_tasks_and_inputs.html#cb82-1" aria-hidden="true" tabindex="-1"></a>sabi <span class="ot">&lt;-</span> sabi <span class="sc">%&gt;%</span> </span>
<span id="cb82-2"><a href="W3_4_tasks_and_inputs.html#cb82-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb82-3"><a href="W3_4_tasks_and_inputs.html#cb82-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">static =</span> stepMean <span class="sc">&lt;</span> <span class="fu">mean</span>(stepMean, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb82-4"><a href="W3_4_tasks_and_inputs.html#cb82-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-5"><a href="W3_4_tasks_and_inputs.html#cb82-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-6"><a href="W3_4_tasks_and_inputs.html#cb82-6" aria-hidden="true" tabindex="-1"></a>sabi_filter <span class="ot">&lt;-</span> sabi <span class="sc">%&gt;%</span></span>
<span id="cb82-7"><a href="W3_4_tasks_and_inputs.html#cb82-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>static)</span>
<span id="cb82-8"><a href="W3_4_tasks_and_inputs.html#cb82-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-9"><a href="W3_4_tasks_and_inputs.html#cb82-9" aria-hidden="true" tabindex="-1"></a>sabi_filter<span class="sc">%&gt;%</span></span>
<span id="cb82-10"><a href="W3_4_tasks_and_inputs.html#cb82-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(E, N))  <span class="sc">+</span></span>
<span id="cb82-11"><a href="W3_4_tasks_and_inputs.html#cb82-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_path</span>() <span class="sc">+</span></span>
<span id="cb82-12"><a href="W3_4_tasks_and_inputs.html#cb82-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb82-13"><a href="W3_4_tasks_and_inputs.html#cb82-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_fixed</span>() <span class="sc">+</span></span>
<span id="cb82-14"><a href="W3_4_tasks_and_inputs.html#cb82-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span>)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-6"></span>
<img src="W3_4_tasks_and_inputs_files/figure-html/unnamed-chunk-6-1.png" alt="The trajectory of sabi, filtered to the positions where the animal was not static" width="672" />
<p class="caption">
Figure 4.3: The trajectory of sabi, filtered to the positions where the animal was not static
</p>
</div>
</div>
<div id="task-1-segmentation" class="section level3 hasAnchor" number="4.3.1">
<h3><span class="header-section-number">4.3.1</span> Task 1: Segmentation<a href="W3_4_tasks_and_inputs.html#task-1-segmentation" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>If you haven’t already done so open the RStudio Project <a href="W3_3_preparation.html#w3-preparation">you have prepared</a> for this week.</p>
<p>With the skills from the input above you can now implement the segmentation algorithm described in <span class="citation"><a href="90_references.html#ref-laube2011" role="doc-biblioref">Laube and Purves</a> (<a href="90_references.html#ref-laube2011" role="doc-biblioref">2011</a>)</span> on the dataset <a href="https://github.com/ComputationalMovementAnalysis/FS21/raw/master/00_Rawdata/caro60.csv">caro60.csv</a>. Download this dataset (right click &gt; save target as…) and import it as a simple <code>data.frame</code> or <code>tibble</code> (you don’t need an <code>sf</code>-object for today’s task).</p>
<p>The sampling interval for this dataset is 1 minute. Use a temporal window <span class="math inline">\(v\)</span> of 6 minutes, i.e. a window size of 6 positions (<code>n±3</code>).</p>
<p>Once you have completed the task, commit your changes with a meaningful commit message and test your connection to Github by pushing your changes to your remote repository.</p>
</div>
<div id="task-2-specify-and-apply-threshold-d" class="section level3 hasAnchor" number="4.3.2">
<h3><span class="header-section-number">4.3.2</span> Task 2: Specify and apply threshold <em>d</em><a href="W3_4_tasks_and_inputs.html#task-2-specify-and-apply-threshold-d" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>After calculating the Euclidean distances to positions within the temporal window <em>v</em> in task 1, you can explore these values (we stored them in the column <code>stepMean</code>) using summary statistics (histograms, boxplot, <code>summary()</code>): This way we can define a reasonable threshold value to differentiate between <em>stops</em> and <em>moves</em>. There is no “correct” way of doing this, specifying a threshold always depends on data as well as the question that needs to be answered. In this exercise, use the mean of all <code>stepMean</code> values.</p>
<p>Store the new information (boolean to differentiate between stops (<code>TRUE</code>) and moves (<code>FALSE</code>)) in a new column named <code>static</code>.</p>
<p>Commit your changes with a meaningful commit message.</p>
</div>
<div id="task-3-visualize-segmented-trajectories" class="section level3 hasAnchor" number="4.3.3">
<h3><span class="header-section-number">4.3.3</span> Task 3: Visualize segmented trajectories<a href="W3_4_tasks_and_inputs.html#task-3-visualize-segmented-trajectories" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now visualize the segmented trajectory spatially. Just like last week, you can use ggplot with <code>geom_path()</code>, <code>geom_point()</code> and <code>coord_equal()</code>. Assign <code>colour = static</code> within <code>aes()</code> to distinguish between segments <em>with</em> “movement” and <em>without</em>.</p>
<p>Commit your changes with a meaningful commit message.</p>
<p><img src="W3_4_tasks_and_inputs_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
</div>
<div id="task-4-segment-based-analysis" class="section level3 hasAnchor" number="4.3.4">
<h3><span class="header-section-number">4.3.4</span> Task 4: Segment-based analysis<a href="W3_4_tasks_and_inputs.html#task-4-segment-based-analysis" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In applying <span class="citation"><a href="90_references.html#ref-laube2011" role="doc-biblioref">Laube and Purves</a> (<a href="90_references.html#ref-laube2011" role="doc-biblioref">2011</a>)</span>, we’ve come as far as steps b in figure <a href="W3_4_tasks_and_inputs.html#fig:laubeimg">4.1</a>. In order to complete the last steps (c and d), we need a <em>unique</em> ID for each segment that we can use as a grouping variable. The following function does just that (it assigns unique IDs based on the column <code>static</code> which you created in Task 2). You will learn about functions next week. For now, just copy the following code chunk into your script and run it.</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="W3_4_tasks_and_inputs.html#cb83-1" aria-hidden="true" tabindex="-1"></a>rle_id <span class="ot">&lt;-</span> <span class="cf">function</span>(vec){</span>
<span id="cb83-2"><a href="W3_4_tasks_and_inputs.html#cb83-2" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span> <span class="fu">rle</span>(vec)<span class="sc">$</span>lengths</span>
<span id="cb83-3"><a href="W3_4_tasks_and_inputs.html#cb83-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.factor</span>(<span class="fu">rep</span>(<span class="fu">seq_along</span>(x), <span class="at">times=</span>x))</span>
<span id="cb83-4"><a href="W3_4_tasks_and_inputs.html#cb83-4" aria-hidden="true" tabindex="-1"></a>  }</span></code></pre></div>
<p>You can use the newly created function <code>rle_id</code> to assign unique IDs to subtrajectories (as shown below). Visualize the <em>moving</em> segments by colourizing them by <code>segment_ID</code>.
Then use <code>segment_ID</code> as a grouping variable to determine the segments duration and remove short segments (e.g. segments with a duration &lt; 5 Minutes)</p>
<p>Commit your changes with a meaningful commit message.</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="W3_4_tasks_and_inputs.html#cb84-1" aria-hidden="true" tabindex="-1"></a>caro60 <span class="ot">&lt;-</span> caro60 <span class="sc">%&gt;%</span></span>
<span id="cb84-2"><a href="W3_4_tasks_and_inputs.html#cb84-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">segment_id =</span> <span class="fu">rle_id</span>(static))</span>
<span id="cb84-3"><a href="W3_4_tasks_and_inputs.html#cb84-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-4"><a href="W3_4_tasks_and_inputs.html#cb84-4" aria-hidden="true" tabindex="-1"></a>caro60</span>
<span id="cb84-5"><a href="W3_4_tasks_and_inputs.html#cb84-5" aria-hidden="true" tabindex="-1"></a><span class="do">## # A tibble: 200 x 9</span></span>
<span id="cb84-6"><a href="W3_4_tasks_and_inputs.html#cb84-6" aria-hidden="true" tabindex="-1"></a><span class="do">##    TierID TierName CollarID DatetimeUTC                E       N stepMean static</span></span>
<span id="cb84-7"><a href="W3_4_tasks_and_inputs.html#cb84-7" aria-hidden="true" tabindex="-1"></a><span class="do">##    &lt;chr&gt;  &lt;chr&gt;       &lt;dbl&gt; &lt;dttm&gt;                 &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt; &lt;lgl&gt; </span></span>
<span id="cb84-8"><a href="W3_4_tasks_and_inputs.html#cb84-8" aria-hidden="true" tabindex="-1"></a><span class="do">##  1 010C   Caro        13973 2015-09-15 08:07:00 2570589.  1.21e6    NA    NA    </span></span>
<span id="cb84-9"><a href="W3_4_tasks_and_inputs.html#cb84-9" aria-hidden="true" tabindex="-1"></a><span class="do">##  2 010C   Caro        13973 2015-09-15 08:08:00 2570573.  1.21e6    NA    NA    </span></span>
<span id="cb84-10"><a href="W3_4_tasks_and_inputs.html#cb84-10" aria-hidden="true" tabindex="-1"></a><span class="do">##  3 010C   Caro        13973 2015-09-15 08:09:00 2570536.  1.21e6    NA    NA    </span></span>
<span id="cb84-11"><a href="W3_4_tasks_and_inputs.html#cb84-11" aria-hidden="true" tabindex="-1"></a><span class="do">##  4 010C   Caro        13973 2015-09-15 08:10:00 2570518.  1.21e6    53.8  FALSE </span></span>
<span id="cb84-12"><a href="W3_4_tasks_and_inputs.html#cb84-12" aria-hidden="true" tabindex="-1"></a><span class="do">##  5 010C   Caro        13973 2015-09-15 08:11:00 2570499.  1.21e6    41.2  FALSE </span></span>
<span id="cb84-13"><a href="W3_4_tasks_and_inputs.html#cb84-13" aria-hidden="true" tabindex="-1"></a><span class="do">##  6 010C   Caro        13973 2015-09-15 08:12:00 2570489.  1.21e6    24.4  FALSE </span></span>
<span id="cb84-14"><a href="W3_4_tasks_and_inputs.html#cb84-14" aria-hidden="true" tabindex="-1"></a><span class="do">##  7 010C   Caro        13973 2015-09-15 08:13:00 2570482.  1.21e6    17.1  FALSE </span></span>
<span id="cb84-15"><a href="W3_4_tasks_and_inputs.html#cb84-15" aria-hidden="true" tabindex="-1"></a><span class="do">##  8 010C   Caro        13973 2015-09-15 08:14:00 2570481.  1.21e6    13.4  FALSE </span></span>
<span id="cb84-16"><a href="W3_4_tasks_and_inputs.html#cb84-16" aria-hidden="true" tabindex="-1"></a><span class="do">##  9 010C   Caro        13973 2015-09-15 08:15:00 2570486.  1.21e6     9.05 FALSE </span></span>
<span id="cb84-17"><a href="W3_4_tasks_and_inputs.html#cb84-17" aria-hidden="true" tabindex="-1"></a><span class="do">## 10 010C   Caro        13973 2015-09-15 08:16:00 2570490.  1.21e6    10.1  FALSE </span></span>
<span id="cb84-18"><a href="W3_4_tasks_and_inputs.html#cb84-18" aria-hidden="true" tabindex="-1"></a><span class="do">## # ... with 190 more rows, and 1 more variable: segment_id &lt;fct&gt;</span></span></code></pre></div>
<p><img src="W3_4_tasks_and_inputs_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
</div>
<div id="task-5-similarity-measures" class="section level3 hasAnchor" number="4.3.5">
<h3><span class="header-section-number">4.3.5</span> Task 5: Similarity measures<a href="W3_4_tasks_and_inputs.html#task-5-similarity-measures" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We will now leave the wild boar data and turn our attentian to human movement. You will use the dataset <a href="https://github.com/ComputationalMovementAnalysis/FS21/raw/master/00_Rawdata/pedestrian.csv">pedestrian.csv</a> (right click &gt; save target as..) for this (and the following) task. Download an import this dataset as a <code>data.frame</code> or <code>tibble</code>. It it a set of six different but similar trajectories from pedestrians walking on a path.</p>
<p>For this task, explore the trajectories first and get an idea on how the pedestrians moved. We step away from using the wild boar data for this task because our animals don’t express the type of similarity we want to illustrate here. Also, using the constructed pedestrian data allows us illustrating very typical similarity issues, that are picked-up in different ways by the different similarity measures. In later exercises we will get back to our wild boar!</p>
<p>Commit your changes with a meaningful commit message.</p>
<p><img src="W3_4_tasks_and_inputs_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
</div>
<div id="task-6-calculate-similarity" class="section level3 hasAnchor" number="4.3.6">
<h3><span class="header-section-number">4.3.6</span> Task 6: Calculate similarity<a href="W3_4_tasks_and_inputs.html#task-6-calculate-similarity" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Install the package <code>SimilarityMeasures</code> (<code>install.packages("SimilarityMeasures")</code>). Familiarize yourself with this package by skimming through the function descriptions <code>help(package = "SimilarityMeasures")</code>. Now compare trajectory 1 to trajectories 2-6 using different similarity measures from the package. Your options are. <code>DTW</code>, <code>EditDist</code>, <code>Frechet</code> and <code>LCSS</code>.</p>
<p>Visualize your results and try to understand the different results with respect to your reading of <span class="citation"><a href="90_references.html#ref-both2018" role="doc-biblioref">Alan Both</a> (<a href="90_references.html#ref-both2018" role="doc-biblioref">2018</a>)</span>. Can you see connections between the properties of the trajectories and the similarity values computed by the different measures?</p>
<p>Note:</p>
<ul>
<li>All functions in the package need matrices as input, with one trajectory per matrix.</li>
<li><code>LCSS</code>takes very long to compute. The accuracy of the algorithm (<code>pointSpacing =</code> ,<code>pointDistance =</code> and <code>errorMarg =</code>) can be varied to provide faster calculations. Please see <span class="citation"><a href="90_references.html#ref-vlachos2002" role="doc-biblioref">Vlachos, Gunopoulos, and Kollios</a> (<a href="90_references.html#ref-vlachos2002" role="doc-biblioref">2002</a>)</span> for more information.</li>
</ul>
<p>Commit your changes with a meaningful commit message. Now push all your changes to Github.</p>
<p><img src="W3_4_tasks_and_inputs_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>

</div>
</div>
</div>
<script src="https://utteranc.es/client.js"
        repo="ComputationalMovementAnalysis/utterances"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>
            </section>

          </div>
        </div>
      </div>
<a href="W3_3_preparation.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="W4_1_exercise.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/ComputationalMovementAnalysis/FS21/edit/master/W3_4_tasks_and_inputs.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/ComputationalMovementAnalysis/FS21/blob/master/W3_4_tasks_and_inputs.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
